(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56535,e=>{"use strict";var s=e.i(66497),t=e.i(10977),l=e.i(3139),r=e.i(31538),a=e.i(25697),d=e.i(96887);function c(){let{id:e}=(0,l.useParams)(),c=(0,l.useRouter)(),[i,n]=(0,t.useState)(null),[o,x]=(0,t.useState)(!0),{settings:m}=(0,a.useSettings)(),h=(0,t.useMemo)(()=>{if(!m?.currency)return"$";switch(m.currency){case"INR":return"₹";case"USD":default:return"$";case"EUR":return"€";case"GBP":return"£"}},[m?.currency]),u=async()=>{try{x(!0);let s=await (0,r.fetchOrders)({search:e});s.orders&&s.orders.length>0&&n(s.orders[0])}catch(e){console.error("Error loading order details:",e)}finally{x(!1)}};(0,t.useEffect)(()=>{e&&u()},[e]);let p=async s=>{try{await (0,r.updateOrder)(e,{status:s}),u()}catch(e){console.error("Error updating status:",e)}},b=async()=>{if(window.confirm("Are you sure you want to delete this order?"))try{await (0,r.deleteOrder)(e),c.push("/orders")}catch(e){console.error("Error deleting order:",e)}};return o?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:"Loading..."}):i?(0,s.jsx)("main",{className:"flex-1 p-6 bg-slate-50 overflow-y-auto",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:()=>c.back(),className:"p-2 rounded-full hover:bg-white transition-colors shadow-sm border border-slate-200",children:(0,s.jsx)(d.MdArrowBack,{className:"text-xl text-slate-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-slate-900",children:["Order #",i._id.substring(0,8)]}),(0,s.jsxs)("p",{className:"text-sm text-slate-500",children:["Placed on ",new Date(i.createdAt).toLocaleString()]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white border border-red-200 text-red-600 hover:bg-red-50 transition-colors font-medium shadow-sm",children:[(0,s.jsx)(d.MdDelete,{})," Delete"]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Order Status"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:[{label:"Pending",value:"pending",icon:d.MdPending,color:"yellow"},{label:"In Production",value:"completed",icon:d.MdCheckCircle,color:"green"},{label:"Delivered",value:"delivered",icon:d.MdLocalShipping,color:"blue"},{label:"On Hold",value:"hold",icon:d.MdPauseCircleFilled,color:"orange"},{label:"Cancelled",value:"cancelled",icon:d.MdCancel,color:"red"}].map(e=>(0,s.jsxs)("button",{onClick:()=>p(e.value),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-all font-medium ${i.status===e.value?`bg-${e.color}-50 border-${e.color}-200 text-${e.color}-700 ring-2 ring-${e.color}-500 ring-offset-2`:"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[(0,s.jsx)(e.icon,{className:"text-lg"}),e.label]},e.value))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,s.jsx)("div",{className:"p-6 border-b border-slate-100",children:(0,s.jsx)("h2",{className:"text-lg font-bold text-slate-900",children:"Order Items"})}),(0,s.jsxs)("table",{className:"w-full text-left",children:[(0,s.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase",children:"Product"}),(0,s.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase text-center",children:"Quantity"}),(0,s.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase text-right",children:"Price"}),(0,s.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase text-right",children:"Total"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-100",children:i.products.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"size-10 rounded-lg bg-slate-100 flex items-center justify-center text-slate-400",children:(0,s.jsx)(d.MdReceipt,{className:"text-xl"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-900",children:e.name||e.product?.name||"Unknown Product"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:e.product?.category||"General"})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-slate-600 text-center font-medium",children:e.quantity}),(0,s.jsxs)("td",{className:"px-6 py-4 text-sm text-slate-600 text-right font-medium",children:[h,e.price.toFixed(2)]}),(0,s.jsxs)("td",{className:"px-6 py-4 text-sm font-bold text-slate-900 text-right",children:[h,(e.quantity*e.price).toFixed(2)]})]},t))}),(0,s.jsx)("tfoot",{className:"bg-slate-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{colSpan:3,className:"px-6 py-4 text-sm font-bold text-slate-900 text-right",children:"Grand Total"}),(0,s.jsxs)("td",{className:"px-6 py-4 text-lg font-black text-primary text-right",children:[h,i.totalAmount.toFixed(2)]})]})})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Order Description / Notes"}),(0,s.jsx)("div",{className:"p-4 rounded-lg bg-slate-50 border border-slate-100 text-slate-700 text-sm leading-relaxed min-h-[100px]",children:i.notes||"No description provided for this order."})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm",children:[(0,s.jsxs)("h2",{className:"text-lg font-bold text-slate-900 mb-6 flex items-center gap-2",children:[(0,s.jsx)(d.MdPerson,{className:"text-primary"})," Customer Details"]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"size-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:i.customer?.name?.substring(0,2).toUpperCase()||"NA"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-900",children:i.customer?.name||"Unknown Customer"}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:["Customer ID: ",i.customer?._id?.substring(0,8)]})]})]}),(0,s.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 text-slate-600",children:[(0,s.jsx)(d.MdPhone,{className:"text-lg text-slate-400"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:i.customer?.phone||"No phone provided"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-slate-600",children:[(0,s.jsx)(d.MdEmail,{className:"text-lg text-slate-400"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:i.customer?.email||"No email provided"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3 text-slate-600",children:[(0,s.jsx)(d.MdLocationOn,{className:"text-lg text-slate-400 mt-0.5"}),(0,s.jsx)("span",{className:"text-sm font-medium leading-relaxed",children:i.customer?.address||"No address provided"})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-primary to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,s.jsx)(d.MdReceipt,{})," Payment Info"]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center text-white/80 text-sm",children:[(0,s.jsx)("span",{children:"Payment Status"}),(0,s.jsx)("span",{className:"px-2 py-0.5 rounded-full bg-white/20 text-white font-bold uppercase text-[10px]",children:i.paymentStatus})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-white/20",children:[(0,s.jsx)("span",{className:"font-medium",children:"Total Amount"}),(0,s.jsxs)("span",{className:"text-xl font-black",children:[h,i.totalAmount.toFixed(2)]})]})]})]})]})]})]})}):(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:"Order not found"})}e.s(["default",()=>c])}]);