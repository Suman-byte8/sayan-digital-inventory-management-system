(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7439,e=>{"use strict";var s=e.i(66497),t=e.i(10977),a=e.i(96887),r=e.i(31538);function l({isOpen:e,onClose:l,onSupplierAdded:n,editingSupplier:o}){let[i,d]=(0,t.useState)({name:"",contactPerson:"",email:"",phone:"",address:""}),[c,x]=(0,t.useState)(!1),[p,u]=(0,t.useState)("");(0,t.useEffect)(()=>{o?d({name:o.name||"",contactPerson:o.contactPerson||"",email:o.email||"",phone:o.phone||"",address:o.address||""}):d({name:"",contactPerson:"",email:"",phone:"",address:""}),u("")},[o,e]);let m=async e=>{e.preventDefault(),x(!0),u("");try{o?await (0,r.updateSupplier)(o._id,i):await (0,r.createSupplier)(i),n(),l()}catch(e){u(e.response?.data?.message||"Failed to save supplier")}finally{x(!1)}};return e?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all scale-100 opacity-100",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 bg-gray-50",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:o?"Edit Supplier":"Add New Supplier"}),(0,s.jsx)("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-200",children:(0,s.jsx)(a.MdClose,{size:20})})]}),(0,s.jsxs)("form",{onSubmit:m,className:"p-4 flex flex-col gap-4",children:[p&&(0,s.jsxs)("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm border border-red-100 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),p]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Supplier Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.MdPerson,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"text",required:!0,className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter supplier name",value:i.name,onChange:e=>d({...i,name:e.target.value})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Contact Person"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.MdPerson,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"text",className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter contact person name",value:i.contactPerson,onChange:e=>d({...i,contactPerson:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.MdEmail,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"email",className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Email address",value:i.email,onChange:e=>d({...i,email:e.target.value})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Phone"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.MdPhone,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"tel",className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Phone number",value:i.phone,onChange:e=>d({...i,phone:e.target.value})})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.MdLocationOn,{className:"absolute left-3 top-3 text-gray-400"}),(0,s.jsx)("textarea",{className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all resize-none",rows:3,placeholder:"Enter full address",value:i.address,onChange:e=>d({...i,address:e.target.value})})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-4 pt-4 border-t border-gray-100",children:[(0,s.jsx)("button",{type:"button",onClick:l,className:"flex-1 px-4 py-2 border border-gray-200 text-gray-600 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):"Save Supplier"})]})]})]})}):null}function n(){let[e,n]=(0,t.useState)([]),[o,i]=(0,t.useState)(!0),[d,c]=(0,t.useState)(""),[x,p]=(0,t.useState)(!1),[u,m]=(0,t.useState)(null),h=async()=>{i(!0);try{let e=await (0,r.fetchSuppliers)();n(e)}catch(e){console.error("Failed to load suppliers",e)}finally{i(!1)}};(0,t.useEffect)(()=>{h()},[]);let g=async e=>{if(confirm("Are you sure you want to delete this supplier?"))try{await (0,r.deleteSupplier)(e),h()}catch(e){console.error("Failed to delete supplier",e)}},b=e.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.contactPerson?.toLowerCase().includes(d.toLowerCase())||e.email?.toLowerCase().includes(d.toLowerCase()));return(0,s.jsxs)("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative bg-slate-50",children:[(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,s.jsxs)("div",{className:"max-w-full mx-auto px-4 pt-6 pb-3 flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Suppliers"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Manage your product suppliers"})]}),(0,s.jsxs)("button",{onClick:()=>{m(null),p(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm text-sm font-medium",children:[(0,s.jsx)(a.MdAdd,{size:20}),"Add Supplier"]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gray-50/50",children:(0,s.jsxs)("div",{className:"relative max-w-md",children:[(0,s.jsx)(a.MdSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,s.jsx)("input",{type:"text",placeholder:"Search suppliers...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",value:d,onChange:e=>c(e.target.value)})]})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,s.jsx)("thead",{className:"bg-gray-50 text-gray-600 font-medium border-b border-gray-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider",children:"Contact Person"}),(0,s.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider",children:"Contact Info"}),(0,s.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider",children:"Address"}),(0,s.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider text-right",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200",children:o?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"Loading suppliers..."})}):0===b.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No suppliers found."})}):b.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.MdPerson,{className:"text-gray-400"}),e.contactPerson||"-"]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1 text-xs text-gray-500",children:[e.email&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(a.MdEmail,{className:"text-gray-400"})," ",e.email]}),e.phone&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(a.MdPhone,{className:"text-gray-400"})," ",e.phone]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-500 truncate max-w-xs",children:e.address||"-"}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsx)("button",{onClick:()=>{m(e),p(!0)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,s.jsx)(a.MdEdit,{size:18})}),(0,s.jsx)("button",{onClick:()=>g(e._id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,s.jsx)(a.MdDelete,{size:18})})]})})]},e._id))})]})})]})]})}),(0,s.jsx)(l,{isOpen:x,onClose:()=>p(!1),onSupplierAdded:h,editingSupplier:u})]})}e.s(["default",()=>n],7439)}]);