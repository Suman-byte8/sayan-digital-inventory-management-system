(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86052,e=>{"use strict";var t=e.i(66497),s=e.i(10977),r=e.i(96887);let a=({products:e,onEdit:s,onDelete:a})=>(0,t.jsxs)("div",{className:"flex flex-col flex-1 bg-surface-light rounded-lg border border-slate-200 shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,t.jsx)("th",{className:"px-4 py-2.5 text-[10px] font-semibold text-slate-500 uppercase tracking-wider w-[60px]",children:"Image"}),(0,t.jsx)("th",{className:"px-4 py-2.5 text-[10px] font-semibold text-slate-500 uppercase tracking-wider w-[250px]",children:"Product Name"}),(0,t.jsx)("th",{className:"px-4 py-2.5 text-[10px] font-semibold text-slate-500 uppercase tracking-wider",children:"Category"}),(0,t.jsx)("th",{className:"px-4 py-2.5 text-[10px] font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Price"}),(0,t.jsx)("th",{className:"px-4 py-2.5 text-[10px] font-semibold text-slate-500 uppercase tracking-wider text-center",children:"Stock Level"}),(0,t.jsx)("th",{className:"px-4 py-2.5 text-[10px] font-semibold text-slate-500 uppercase tracking-wider text-center",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-2.5 text-[10px] font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-slate-200",children:[e.map(e=>(0,t.jsxs)("tr",{className:"group hover:bg-slate-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-2.5",children:(0,t.jsx)("div",{className:"size-8 rounded bg-slate-100 border border-slate-200 overflow-hidden flex items-center justify-center",children:e.imageUrl?(0,t.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"}):(0,t.jsx)("span",{className:"text-[9px] text-slate-400",children:"No Img"})})}),(0,t.jsx)("td",{className:"px-4 py-2.5",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-slate-900",children:e.name}),(0,t.jsxs)("span",{className:"text-[10px] text-slate-500",children:["ID: ",e._id]})]})}),(0,t.jsx)("td",{className:"px-4 py-2.5 text-xs text-slate-600",children:e.category}),(0,t.jsxs)("td",{className:"px-4 py-2.5 text-xs font-medium text-slate-900 text-right tabular-nums",children:["$",e.sellingPrice?.toFixed(2)??"0.00"]}),(0,t.jsx)("td",{className:"px-4 py-2.5 text-xs text-slate-600 text-center",children:e.inStock?"In Stock":"Out of Stock"}),(0,t.jsx)("td",{className:"px-4 py-2.5 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold border ${e.quantity<10?"bg-red-100 text-red-700 border-red-200":e.quantity<20?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-green-100 text-green-700 border-green-200"}`,children:e.quantity}),(0,t.jsx)("span",{className:`text-[9px] font-medium ${e.inStock?"text-green-600":"text-red-600"}`,children:e.inStock?"In Stock":"Out of Stock"})]})}),(0,t.jsx)("td",{className:"px-4 py-2.5 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,t.jsx)("button",{onClick:()=>s?.(e),className:"text-slate-400 hover:text-primary transition-colors p-1 rounded hover:bg-slate-100",title:"Edit Product",children:(0,t.jsx)(r.MdEdit,{className:"text-[16px]"})}),(0,t.jsx)("button",{onClick:()=>a?.(e._id),className:"text-slate-400 hover:text-red-600 transition-colors p-1 rounded hover:bg-slate-100",title:"Delete Product",children:(0,t.jsx)(r.MdClose,{className:"text-[16px]"})})]})})]},e._id)),0===e.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,className:"px-4 py-6 text-center text-xs text-slate-500",children:"No products found."})})]})]})}),(0,t.jsxs)("div",{className:"px-4 py-2.5 border-t border-slate-200 flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Showing ",(0,t.jsx)("span",{className:"font-medium text-slate-900",children:e.length})," products"]}),(0,t.jsx)("div",{className:"flex items-center gap-1"})]})]});var l=e.i(31538);let i=({isOpen:e,onClose:a,onProductAdded:i})=>{let[n,c]=(0,s.useState)({name:"",category:"",description:"",buyingPrice:"",sellingPrice:"",quantity:"0",inStock:!0}),[o,d]=(0,s.useState)([]),[x,m]=(0,s.useState)(null),[u,g]=(0,s.useState)(null),[p,h]=(0,s.useState)(!1),f=(0,s.useRef)(null);if((0,s.useEffect)(()=>{e?(async()=>{try{let e=await (0,l.fetchCategories)();d(e)}catch(e){console.error("Failed to fetch categories",e)}})():(c({name:"",category:"",description:"",buyingPrice:"",sellingPrice:"",quantity:"0",inStock:!0}),m(null),g(null),h(!1))},[e]),(0,s.useEffect)(()=>()=>{u&&URL.revokeObjectURL(u)},[u]),!e)return null;let y=e=>{let{name:t,value:s}=e.target;c(e=>({...e,[t]:s}))},b=e=>{e&&e.type.startsWith("image/")&&(m(e),g(URL.createObjectURL(e)))},j=async()=>{try{let e=new FormData;e.append("name",n.name),e.append("category",n.category),e.append("description",n.description),e.append("buyingPrice",n.buyingPrice),e.append("sellingPrice",n.sellingPrice),e.append("quantity",n.quantity),e.append("inStock",String(n.inStock)),x&&e.append("image",x),await (0,l.createProduct)(e),i(),a()}catch(e){console.error("Failed to add product",e)}};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onPaste:e=>{e.clipboardData.files&&e.clipboardData.files[0]&&b(e.clipboardData.files[0])},children:[(0,t.jsx)("div",{"aria-hidden":"true",className:"fixed inset-0 backdrop-blur-sm transition-opacity",onClick:a}),(0,t.jsxs)("div",{className:"relative w-full max-w-lg transform overflow-hidden rounded-xl bg-white text-left shadow-2xl transition-all border border-gray-100 max-h-[90vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 px-5 py-4 bg-gray-50",children:[(0,t.jsx)("h3",{className:"text-xl font-bold leading-6 text-slate-900",children:"Add New Product"}),(0,t.jsxs)("button",{className:"rounded-md bg-transparent p-1 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors",type:"button",onClick:a,children:[(0,t.jsx)("span",{className:"sr-only",children:"Close"}),(0,t.jsx)(r.MdClose,{className:"text-2xl"})]})]}),(0,t.jsxs)("div",{className:"px-5 py-4 space-y-4 overflow-y-auto flex-1",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"product-name",children:"Product Name"}),(0,t.jsx)("div",{className:"relative rounded-lg shadow-sm",children:(0,t.jsx)("input",{autoFocus:!0,className:"block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6",id:"product-name",name:"name",placeholder:"e.g., Glossy A4 Flyer",type:"text",value:n.name,onChange:y})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",children:"Product Image"}),u?(0,t.jsxs)("div",{className:"relative mt-2 rounded-lg border border-gray-200 overflow-hidden group",children:[(0,t.jsx)("img",{src:u,alt:"Preview",className:"w-full h-48 object-contain bg-gray-50"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,t.jsx)("button",{type:"button",onClick:()=>{m(null),g(null),f.current&&(f.current.value="")},className:"p-2 bg-white rounded-full text-red-600 hover:text-red-700 hover:bg-red-50 transition-colors",title:"Remove image",children:(0,t.jsx)(r.MdDelete,{className:"text-xl"})})})]}):(0,t.jsx)("div",{className:`mt-1 flex justify-center rounded-lg border border-dashed px-6 py-10 transition-colors cursor-pointer ${p?"border-primary bg-primary/5":"border-gray-300 hover:bg-gray-50"}`,onDragOver:e=>{e.preventDefault(),h(!0)},onDragLeave:e=>{e.preventDefault(),h(!1)},onDrop:e=>{e.preventDefault(),h(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&b(e.dataTransfer.files[0])},onClick:()=>f.current?.click(),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(r.MdCloudUpload,{className:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true"}),(0,t.jsxs)("div",{className:"mt-4 flex text-sm leading-6 text-gray-600 justify-center",children:[(0,t.jsxs)("span",{className:"relative cursor-pointer rounded-md bg-white font-semibold text-primary focus-within:outline-none focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-2 hover:text-primary-dark",children:[(0,t.jsx)("span",{children:"Upload a file"}),(0,t.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",ref:f,accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&b(e.target.files[0])}})]}),(0,t.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,t.jsx)("p",{className:"text-xs leading-5 text-gray-600",children:"PNG, JPG, GIF up to 10MB"}),(0,t.jsx)("p",{className:"text-xs leading-5 text-gray-400 mt-1",children:"Or paste (Ctrl+V) directly"})]})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"category",children:"Category"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{className:"block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 text-slate-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6 appearance-none",id:"category",name:"category",value:n.category,onChange:y,children:[(0,t.jsx)("option",{disabled:!0,value:"",children:"Select a category"}),o.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e._id))]}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:(0,t.jsx)(r.MdExpandMore,{className:"text-gray-500"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"description",children:"Description"}),(0,t.jsx)("textarea",{className:"block w-full rounded-lg border-0 py-2.5 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6 resize-none",id:"description",name:"description",placeholder:"Enter product specifications, paper weight, etc.",rows:3,value:n.description,onChange:y})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"actual-price",children:"Actual Cost"}),(0,t.jsxs)("div",{className:"relative rounded-lg shadow-sm",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,t.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),(0,t.jsx)("input",{className:"block w-full rounded-lg border-0 py-2.5 pl-7 pr-4 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6",id:"actual-price",name:"buyingPrice",placeholder:"0.00",type:"text",value:n.buyingPrice,onChange:y})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"selling-price",children:"Selling Price"}),(0,t.jsxs)("div",{className:"relative rounded-lg shadow-sm",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,t.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),(0,t.jsx)("input",{className:"block w-full rounded-lg border-0 py-2.5 pl-7 pr-4 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6",id:"selling-price",name:"sellingPrice",placeholder:"0.00",type:"text",value:n.sellingPrice,onChange:y})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"quantity",children:"Stock Quantity"}),(0,t.jsx)("div",{className:"relative rounded-lg shadow-sm",children:(0,t.jsx)("input",{className:"block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6",id:"quantity",name:"quantity",placeholder:"0",type:"number",min:"0",value:n.quantity,onChange:y})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-3",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-sm font-medium leading-6 text-slate-900",children:"In Stock"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Available for immediate orders"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{checked:n.inStock,className:"sr-only peer",type:"checkbox",onChange:()=>{c(e=>({...e,inStock:!e.inStock}))}}),(0,t.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 px-5 py-4 bg-gray-50 border-t border-gray-200",children:[(0,t.jsx)("button",{className:"px-5 py-2.5 text-sm font-semibold text-slate-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-200 transition-colors",type:"button",onClick:a,children:"Cancel"}),(0,t.jsx)("button",{className:"px-5 py-2.5 text-sm font-semibold text-white bg-primary rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 shadow-sm transition-colors",type:"button",onClick:j,children:"Save Product"})]})]})]})},n=({isOpen:e,onClose:a,onProductUpdated:i,product:n})=>{let[c,o]=(0,s.useState)({name:"",category:"",description:"",buyingPrice:"",sellingPrice:"",quantity:"0",inStock:!0}),[d,x]=(0,s.useState)([]),[m,u]=(0,s.useState)(null),[g,p]=(0,s.useState)(null),[h,f]=(0,s.useState)(!1),y=(0,s.useRef)(null);if((0,s.useEffect)(()=>{e&&(async()=>{x(await (0,l.fetchCategories)())})()},[e]),(0,s.useEffect)(()=>{n?(o({name:n.name??"",category:n.category??"",description:n.description??"",buyingPrice:String(n.buyingPrice??""),sellingPrice:String(n.sellingPrice??""),quantity:String(n.quantity??"0"),inStock:n.inStock}),n.imageUrl?p(n.imageUrl):p(null)):(o({name:"",category:"",description:"",buyingPrice:"",sellingPrice:"",quantity:"0",inStock:!0}),p(null)),u(null)},[n]),(0,s.useEffect)(()=>()=>{g&&g.startsWith("blob:")&&URL.revokeObjectURL(g)},[g]),!e||!n)return null;let b=e=>{let{name:t,value:s}=e.target;o(e=>({...e,[t]:s}))},j=e=>{e&&e.type.startsWith("image/")&&(u(e),p(URL.createObjectURL(e)))},v=async()=>{try{let e=new FormData;e.append("name",c.name),e.append("category",c.category),e.append("description",c.description),e.append("buyingPrice",c.buyingPrice),e.append("sellingPrice",c.sellingPrice),e.append("quantity",c.quantity),e.append("inStock",String(c.inStock)),m&&e.append("image",m),await (0,l.updateProduct)(n._id,e),i(),a()}catch(e){console.error("Failed to update product",e)}};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onPaste:e=>{e.clipboardData.files&&e.clipboardData.files[0]&&j(e.clipboardData.files[0])},children:[(0,t.jsx)("div",{"aria-hidden":"true",className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm transition-opacity",onClick:a}),(0,t.jsxs)("div",{className:"relative w-full max-w-lg transform overflow-hidden rounded-xl bg-white text-left shadow-2xl transition-all border border-gray-100 max-h-[90vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 px-5 py-4 bg-gray-50",children:[(0,t.jsx)("h3",{className:"text-xl font-bold leading-6 text-slate-900",children:"Edit Product"}),(0,t.jsxs)("button",{className:"rounded-md bg-transparent p-1 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors",type:"button",onClick:a,children:[(0,t.jsx)("span",{className:"sr-only",children:"Close"}),(0,t.jsx)(r.MdClose,{className:"text-2xl"})]})]}),(0,t.jsxs)("div",{className:"px-5 py-4 space-y-4 overflow-y-auto flex-1",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"product-name",children:"Product Name"}),(0,t.jsx)("div",{className:"relative rounded-lg shadow-sm",children:(0,t.jsx)("input",{autoFocus:!0,className:"block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6",id:"product-name",name:"name",placeholder:"e.g., Glossy A4 Flyer",type:"text",value:c.name,onChange:b})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",children:"Product Image"}),g?(0,t.jsxs)("div",{className:"relative mt-2 rounded-lg border border-gray-200 overflow-hidden group",children:[(0,t.jsx)("img",{src:g,alt:"Preview",className:"w-full h-48 object-contain bg-gray-50"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,t.jsx)("button",{type:"button",onClick:()=>{u(null),p(null),y.current&&(y.current.value="")},className:"p-2 bg-white rounded-full text-red-600 hover:text-red-700 hover:bg-red-50 transition-colors",title:"Remove image",children:(0,t.jsx)(r.MdDelete,{className:"text-xl"})})})]}):(0,t.jsx)("div",{className:`mt-1 flex justify-center rounded-lg border border-dashed px-6 py-10 transition-colors cursor-pointer ${h?"border-primary bg-primary/5":"border-gray-300 hover:bg-gray-50"}`,onDragOver:e=>{e.preventDefault(),f(!0)},onDragLeave:e=>{e.preventDefault(),f(!1)},onDrop:e=>{e.preventDefault(),f(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&j(e.dataTransfer.files[0])},onClick:()=>y.current?.click(),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(r.MdCloudUpload,{className:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true"}),(0,t.jsxs)("div",{className:"mt-4 flex text-sm leading-6 text-gray-600 justify-center",children:[(0,t.jsxs)("span",{className:"relative cursor-pointer rounded-md bg-white font-semibold text-primary focus-within:outline-none focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-2 hover:text-primary-dark",children:[(0,t.jsx)("span",{children:"Upload a file"}),(0,t.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",ref:y,accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&j(e.target.files[0])}})]}),(0,t.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,t.jsx)("p",{className:"text-xs leading-5 text-gray-600",children:"PNG, JPG, GIF up to 10MB"}),(0,t.jsx)("p",{className:"text-xs leading-5 text-gray-400 mt-1",children:"Or paste (Ctrl+V) directly"})]})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"category",children:"Category"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{className:"block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 text-slate-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6 appearance-none",id:"category",name:"category",value:c.category,onChange:b,children:[(0,t.jsx)("option",{disabled:!0,value:"",children:"Select a category"}),d.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e._id))]}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:(0,t.jsx)(r.MdExpandMore,{className:"text-gray-500"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"description",children:"Description"}),(0,t.jsx)("textarea",{className:"block w-full rounded-lg border-0 py-2.5 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6 resize-none",id:"description",name:"description",placeholder:"Enter product specifications, paper weight, etc.",rows:3,value:c.description,onChange:b})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"actual-price",children:"Actual Cost"}),(0,t.jsxs)("div",{className:"relative rounded-lg shadow-sm",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,t.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),(0,t.jsx)("input",{className:"block w-full rounded-lg border-0 py-2.5 pl-7 pr-4 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6",id:"actual-price",name:"buyingPrice",placeholder:"0.00",type:"text",value:c.buyingPrice,onChange:b})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"selling-price",children:"Selling Price"}),(0,t.jsxs)("div",{className:"relative rounded-lg shadow-sm",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,t.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),(0,t.jsx)("input",{className:"block w-full rounded-lg border-0 py-2.5 pl-7 pr-4 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6",id:"selling-price",name:"sellingPrice",placeholder:"0.00",type:"text",value:c.sellingPrice,onChange:b})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium leading-6 text-slate-900",htmlFor:"quantity",children:"Stock Quantity"}),(0,t.jsx)("div",{className:"relative rounded-lg shadow-sm",children:(0,t.jsx)("input",{className:"block w-full rounded-lg border-0 py-2.5 pl-4 pr-10 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6",id:"quantity",name:"quantity",placeholder:"0",type:"number",min:"0",value:c.quantity,onChange:b})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-3",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-sm font-medium leading-6 text-slate-900",children:"In Stock"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Available for immediate orders"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{checked:c.inStock,className:"sr-only peer",type:"checkbox",onChange:()=>{o(e=>({...e,inStock:!e.inStock}))}}),(0,t.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 px-5 py-4 bg-gray-50 border-t border-gray-200",children:[(0,t.jsx)("button",{className:"px-5 py-2.5 text-sm font-semibold text-slate-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-200 transition-colors",type:"button",onClick:a,children:"Cancel"}),(0,t.jsx)("button",{className:"px-5 py-2.5 text-sm font-semibold text-white bg-primary rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 shadow-sm transition-colors",type:"button",onClick:v,children:"Save Product"})]})]})]})};function c({isOpen:e,onClose:a,onCategoriesUpdated:i}){let[n,c]=(0,s.useState)([]),[o,d]=(0,s.useState)(!1),[x,m]=(0,s.useState)(null),[u,g]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[f,y]=(0,s.useState)("");(0,s.useEffect)(()=>{e&&b()},[e]);let b=async()=>{d(!0);try{let e=await (0,l.fetchCategories)();c(e)}catch(e){y("Failed to load categories")}finally{d(!1)}},j=async()=>{if(u.trim())try{await (0,l.createCategory)({name:u}),g(""),b(),i()}catch(e){y(e.response?.data?.error||"Failed to add category")}},v=()=>{m(null),h("")},N=async e=>{if(p.trim())try{await (0,l.updateCategory)(e,{name:p}),m(null),b(),i()}catch(e){y(e.response?.data?.error||"Failed to update category")}},w=async e=>{if(window.confirm("Are you sure you want to delete this category?"))try{await (0,l.deleteCategory)(e),b(),i()}catch(e){y(e.response?.data?.error||"Failed to delete category")}};return e?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"fixed inset-0 backdrop-blur-[2px] transition-opacity",onClick:a,"aria-hidden":"true"}),(0,t.jsx)("div",{className:"relative w-full max-w-lg bg-white rounded-lg shadow-xl overflow-hidden transform transition-all flex flex-col max-h-[90vh]",children:(0,t.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 flex-1 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Manage Categories"}),(0,t.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-500",children:(0,t.jsx)(r.MdClose,{className:"h-6 w-6"})})]}),f&&(0,t.jsx)("div",{className:"mb-4 p-2 bg-red-50 text-red-500 text-sm rounded border border-red-200",children:f}),(0,t.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,t.jsx)("input",{type:"text",value:u,onChange:e=>g(e.target.value),placeholder:"New category name",className:"flex-1 p-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary"}),(0,t.jsxs)("button",{onClick:j,disabled:!u.trim(),className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-primary-dark disabled:opacity-50 flex items-center gap-1",children:[(0,t.jsx)(r.MdAdd,{})," Add"]})]}),(0,t.jsx)("div",{className:"max-h-60 overflow-y-auto border rounded-md divide-y divide-gray-200",children:o?(0,t.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Loading..."}):0===n.length?(0,t.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No categories found"}):n.map(e=>(0,t.jsx)("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50",children:x===e._id?(0,t.jsxs)("div",{className:"flex-1 flex gap-2 items-center",children:[(0,t.jsx)("input",{type:"text",value:p,onChange:e=>h(e.target.value),className:"flex-1 p-1 border border-gray-300 rounded text-sm",autoFocus:!0}),(0,t.jsx)("button",{onClick:()=>N(e._id),className:"text-green-600 hover:text-green-700",children:(0,t.jsx)(r.MdSave,{className:"text-xl"})}),(0,t.jsx)("button",{onClick:v,className:"text-gray-500 hover:text-gray-600",children:(0,t.jsx)(r.MdCancel,{className:"text-xl"})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:e.name}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{m(e._id),h(e.name)},className:"text-blue-600 hover:text-blue-700 p-1",children:(0,t.jsx)(r.MdEdit,{className:"text-lg"})}),(0,t.jsx)("button",{onClick:()=>w(e._id),className:"text-red-600 hover:text-red-700 p-1",children:(0,t.jsx)(r.MdDelete,{className:"text-lg"})})]})]})},e._id))})]})})]}):null}function o(){let[e,r]=(0,s.useState)([]),[o,d]=(0,s.useState)([]),[x,m]=(0,s.useState)(!1),[u,g]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[f,y]=(0,s.useState)(null),[b,j]=(0,s.useState)(""),[v,N]=(0,s.useState)(""),[w,k]=(0,s.useState)(""),C=async()=>{r(await (0,l.fetchProducts)())},S=async()=>{d(await (0,l.fetchCategories)())};(0,s.useEffect)(()=>{C(),S()},[]);let P=async t=>{window.confirm("Are you sure you want to delete this product?")&&(await (0,l.deleteProduct)(t),r(e.filter(e=>e._id!==t)))},F=e.filter(e=>e.name.toLowerCase().includes(b.toLowerCase())&&(!v||e.category===v)&&(!w||("in-stock"===w?e.inStock:!e.inStock)));return(0,t.jsxs)("div",{className:"flex flex-col h-screen w-full mx-auto",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm z-10",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>h(!0),className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:"Manage Categories"}),(0,t.jsx)("button",{onClick:()=>{m(!0)},className:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:"Add Product"})]})]})})}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search products...",value:b,onChange:e=>j(e.target.value),className:"w-1/3 p-2 border border-gray-300 rounded-md"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"p-2 border border-gray-300 rounded-md",children:[(0,t.jsx)("option",{value:"",children:"All Categories"}),o.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e._id))]}),(0,t.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"p-2 border border-gray-300 rounded-md",children:[(0,t.jsx)("option",{value:"",children:"All Statuses"}),(0,t.jsx)("option",{value:"in-stock",children:"In Stock"}),(0,t.jsx)("option",{value:"out-of-stock",children:"Out of Stock"})]})]})]}),(0,t.jsx)(a,{products:F,onEdit:e=>{y(e),g(!0)},onDelete:P})]})})}),(0,t.jsx)(i,{isOpen:x,onClose:()=>m(!1),onProductAdded:()=>{m(!1),C()}}),(0,t.jsx)(n,{isOpen:u,onClose:()=>g(!1),onProductUpdated:()=>{g(!1),C()},product:f}),(0,t.jsx)(c,{isOpen:p,onClose:()=>h(!1),onCategoriesUpdated:S})]})}e.s(["default",()=>o],86052)}]);