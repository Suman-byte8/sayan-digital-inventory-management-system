(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31088,e=>{"use strict";var t=e.i(66497),s=e.i(10977),r=e.i(31538),a=e.i(96887);function l(){let[e,l]=(0,s.useState)("sales"),[n,i]=(0,s.useState)([]),[d,o]=(0,s.useState)([]),[c,x]=(0,s.useState)(!1),[p,m]=(0,s.useState)(""),[h,g]=(0,s.useState)("");(0,s.useEffect)(()=>{"sales"===e?u():y()},[e]);let u=async()=>{x(!0);try{let e=await (0,r.fetchSalesReport)(p,h);i(e)}catch(e){console.error("Failed to load sales report",e)}finally{x(!1)}},y=async()=>{x(!0);try{let e=await (0,r.fetchInventoryReport)();o(e)}catch(e){console.error("Failed to load inventory report",e)}finally{x(!1)}};return(0,t.jsx)("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative bg-slate-50",children:(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsxs)("div",{className:"max-w-full mx-auto px-4 pt-6 pb-3 flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Generate and view system reports"})]}),(0,t.jsxs)("button",{onClick:()=>{let t="sales"===e?n:d;if(0===t.length)return;let s=new Blob([[Object.keys(t[0]).join(","),...t.map(e=>Object.values(e).map(e=>"object"==typeof e?JSON.stringify(e):e).join(","))].join("\n")],{type:"text/csv"}),r=window.URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=`${e}-report-${new Date().toISOString().split("T")[0]}.csv`,a.click()},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm text-sm font-medium",children:[(0,t.jsx)(a.MdDownload,{size:20}),"Export CSV"]})]}),(0,t.jsxs)("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl",children:[(0,t.jsxs)("button",{onClick:()=>l("sales"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${"sales"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,t.jsx)(a.MdAttachMoney,{size:18}),"Sales Report"]}),(0,t.jsxs)("button",{onClick:()=>l("inventory"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${"inventory"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,t.jsx)(a.MdInventory,{size:18}),"Inventory Report"]})]}),"sales"===e&&(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex items-end gap-4 shadow-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Start Date"}),(0,t.jsx)("input",{type:"date",className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:p,onChange:e=>m(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"End Date"}),(0,t.jsx)("input",{type:"date",className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:h,onChange:e=>g(e.target.value)})]}),(0,t.jsx)("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors shadow-sm",children:"Apply Filter"})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,t.jsx)("thead",{className:"bg-gray-50 text-gray-600 font-medium border-b border-gray-200",children:(0,t.jsx)("tr",{children:"sales"===e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider",children:"Order ID"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider",children:"Customer"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider text-right",children:"Amount"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider",children:"Product Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider",children:"Category"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider text-right",children:"Buying Price"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider text-right",children:"Selling Price"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider text-right",children:"Quantity"}),(0,t.jsx)("th",{className:"px-6 py-3 text-[10px] font-semibold uppercase tracking-wider text-center",children:"Status"})]})})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:c?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"Loading data..."})}):0===("sales"===e?n:d).length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No data found."})}):("sales"===e?n:d).map(s=>(0,t.jsx)("tr",{className:"hover:bg-gray-50 transition-colors",children:"sales"===e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("td",{className:"px-6 py-4 font-medium text-gray-900",children:["#",s._id.substring(0,8)]}),(0,t.jsx)("td",{className:"px-6 py-4 text-gray-500",children:new Date(s.createdAt).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-6 py-4",children:s.customer?.name||"Unknown"}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium ${"Completed"===s.status?"bg-green-100 text-green-800":"Pending"===s.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.status})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right font-medium",children:["$",s.totalAmount?.toFixed(2)]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("td",{className:"px-6 py-4 font-medium text-gray-900",children:s.name}),(0,t.jsx)("td",{className:"px-6 py-4 text-gray-500",children:s.category}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right text-gray-500",children:["$",s.buyingPrice?.toFixed(2)]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right font-medium",children:["$",s.sellingPrice?.toFixed(2)]}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:s.quantity}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium ${s.inStock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.inStock?"In Stock":"Out of Stock"})})]})},s._id))})]})})})]})})})}e.s(["default",()=>l])}]);